!function(t,n){"function"==typeof define&&define.amd?define(["$"],n):"object"==typeof exports?module.exports=n():t.LazyLoad=n(window.Zepto||window.jQuery||$)}(this,function(t){function n(){this.loadImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",this.settings={container:window,effect:"show",effectArgs:null,elements:null,load:null,offset:0,event:"scroll"}}return t.fn.LazyLoad=function(e){var i=new n,s=t.extend({elements:t(this)},e);return i.init(s),i},n.prototype={init:function(n){this.settings=t.extend(this.settings,n),this.elements=t(this.settings.elements),this.loadImg=this.settings.loadImg||this.loadImg,this.bindEvent(),"scroll"==this.settings.event&&this.load(),this.initImg()},initImg:function(){var n=this;this.elements.each(function(){var e=t(this);void 0!==e.attr("src")&&e.attr("src")!==!1&&""!=e.attr("src")||!e.is("img")||e.attr("src",n.loadImg)})},bindEvent:function(){var n=t(this.settings.container),e=this;n.on(e.settings.event,function(){e.load()}),t(window).on("resize",function(){e.load()})},load:function(){var t=this;this.elements.each(function(){this.loaded||(t.checkPosition(this)&&t.show(this),t.settings.load&&t.settings.load.call(t,this))})},checkPosition:function(n){var e=t(n).offset().top,i=window.clientHeight||document.documentElement.clientHeight||document.body.clientHeight,s=(window.clientWidth||document.documentElement.clientWidth||document.body.clientWidth,t(window).scrollTop());return e+this.settings.offset<=i+s?!0:!1},show:function(n){var e=this,i=t(n),s=n;s.loaded=!1;var o=i.attr("data-src");t("<img/>").attr("src",o).on("load",function(){s.loaded=!0,i.hide(),i.is("img")?i.attr("src",o):i.css("background-image","url('"+o+"')"),i[e.settings.effect](e.settings.effectArgs)})}},n});