!function(t,e){"function"==typeof define&&define.amd?define("lazy-load",["$"],e):"object"==typeof exports?module.exports=e():t.LazyLoad=e(window.Zepto||window.jQuery||$)}(this,function(t){function e(){this.loadImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",this.settings={container:window,effect:"show",effectArgs:1e3,elements:null,load:null,offset:0}}return t.fn.LazyLoad=function(n){var i=new e,s=t.extend({elements:t(this)},n);return i.init(s),i},e.prototype={init:function(e){this.settings=t.extend(this.settings,e),this.elements=t(this.settings.elements),this.loadImg=this.settings.loadImg||this.loadImg,this.bindEvent(),this.load()},bindEvent:function(){var e=t(this.settings.container),n=this;e.bind("scroll",function(){n.load()}),t(window).bind("resize",function(){n.load()})},load:function(){var t=this;this.elements.each(function(){this.loaded||(t.checkPosition(this)&&t.show(this),t.settings.load&&t.settings.load.call(t,this))})},checkPosition:function(e){var n=t(e).offset().top,i=this.settings.container.clientHeight||document.documentElement.clientHeight||document.body.clientHeight,s=(this.settings.container.clientWidth||document.documentElement.clientWidth||document.body.clientWidth,t(this.settings.container).scrollTop());return n+this.settings.offset<=i+s?!0:!1},show:function(e){var n=this,i=t(e),s=e;s.loaded=!1;var o=i.attr("data-src");void 0!==i.attr("src")&&i.attr("src")!==!1&&""!=i.attr("src")||!i.is("img")||i.attr("src",n.loadImg),t("<img/>").attr("src",o).on("load",function(){s.loaded=!0,i.hide(),i.is("img")?i.attr("src",o):i.css("background-image","url('"+o+"')"),i[n.settings.effect](n.settings.effectArgs)})}},e});